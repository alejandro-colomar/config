#!/bin/sh
################################################################################
#
# Set up a random MAC for all network devices
#
################################################################################


################################################################################
#	functions							       #
################################################################################
find_cards()
{

	cards="$(ip a|grep ^[0-9]|cut -d\: -f2|grep -v \ lo)"
}

change_mac()
{
	local	card=${1}

	ifconfig	${card} down
	macchanger -r	${card}
	ifconfig	${card} up
}

################################################################################
#	main								       #
################################################################################
find_cards

for i in ${cards}
do
	echo		${i}
	change_mac	${i}
done


################################################################################
#	end of file							       #
################################################################################
