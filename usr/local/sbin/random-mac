#!/bin/sh
################################################################################
#	Copyright (C) 2019-2020		Alejandro Colomar Andres	       #
#	SPDX-License-Identifier:	ISC				       #
################################################################################
#
# Set up a random MAC for all network devices
#
################################################################################


ip a \
|grep '^[0-9]' \
|cut -d':' -f2 \
|grep -v ' lo' \
|while read -r card; do
	echo		"${card}";
	ifconfig	"${card}" down;
	macchanger -r	"${card}";
	ifconfig	"${card}" up;
done;


################################################################################
#	end of file							       #
################################################################################
